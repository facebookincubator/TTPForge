api_version: 2.0
uuid: 4be9d2be-49be-4114-8618-306a62eedec2
name: Basic Expect Step with Echo
description: |
  This TTP demonstrates the usage of an expect step to automate interaction
  with a basic shell command, using the go-expect library.
args:
  - name: expect_string
    description: The string to expect in the console output
    default: "Hello, world!"
  - name: command
    description: The command to execute
    default: "echo Hello, world!"
steps:
  - name: expect_step
    expect_string: "{{.Args.expect_string}}"
    send_commands: |
      send_line "echo Hello, world!"
    command: "{{.Args.command}}"
